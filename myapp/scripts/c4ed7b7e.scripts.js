"use strict";angular.module("ngdemoApp",["ngdemoApp.services","ngdemoApp.controllers"]).config(["$routeProvider","$httpProvider",function(e,r){e.when("/dummy",{templateUrl:"views/dummy.html",controller:"DummyCtrl"}),e.when("/user-list",{templateUrl:"views/user-list.html",controller:"UserListCtrl"}),e.when("/user-detail/:id",{templateUrl:"views/user-detail.html",controller:"UserDetailCtrl"}),e.when("/user-creation",{templateUrl:"views/user-creation.html",controller:"UserCreationCtrl"}),e.otherwise({redirectTo:"/dummy"}),r.defaults.useXDomain=!0,delete r.defaults.headers.common["X-Requested-With"]}]);var services=angular.module("ngdemoApp.services",["ngResource"]),baseUrl="http://localhost\\:8080";services.factory("DummyFactory",["$resource",function(e){return e(baseUrl+"/ngdemo/web/dummy",{},{query:{method:"GET",params:{}}})}]),services.factory("UsersFactory",["$resource",function(e){return e(baseUrl+"/ngdemo/web/users",{},{query:{method:"GET",isArray:!0},create:{method:"POST"}})}]),services.factory("UserFactory",["$resource",function(e){return e(baseUrl+"/ngdemo/web/users/:id",{},{show:{method:"GET"},update:{method:"PUT",params:{id:"@id"}},delete:{method:"DELETE",params:{id:"@id"}}})}]);var app=angular.module("ngdemoApp.controllers",[]);app.run(["$rootScope","$templateCache",function(e,r){e.$on("$viewContentLoaded",function(){r.removeAll()})}]),app.controller("DummyCtrl",["$scope","DummyFactory",function(r,e){r.bla="bla from controller",e.query({},function(e){r.foo=e.firstName})}]),app.controller("UserListCtrl",["$scope","UsersFactory","UserFactory","$location",function(r,t,o,s){r.editUser=function(e){s.path("/user-detail/"+e)},r.deleteUser=function(e){o.delete({id:e}),r.users=t.query()},r.createNewUser=function(){s.path("/user-creation")},r.users=t.query()}]),app.controller("UserDetailCtrl",["$scope","$routeParams","UserFactory","$location",function(e,r,t,o){e.updateUser=function(){t.update(e.user),o.path("/user-list")},e.cancel=function(){o.path("/user-list")},e.user=t.show({id:r.id})}]),app.controller("UserCreationCtrl",["$scope","UsersFactory","$location",function(e,r,t){e.createNewUser=function(){r.create(e.user),t.path("/user-list")}}]);